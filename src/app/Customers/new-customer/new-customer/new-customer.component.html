<div class="pageTitle main2-title">
    <div>לקוח חדש</div>
</div>
<div class="page-wrap">
    <div class="page-element width-block-auto">
        <form [formGroup]="newCustomerForm" (submit)="saveForm()">
            <div class="wrapData formBorder">

                <div class="fixed-column-buttons">
                    <div class="wrapStickyButtons">
                        <div>
                            <a mat-button class="linkButton" (click)="accordion.closeAll()">
                                <span>צמצם הכל</span>
                                <mat-icon>compress</mat-icon>
                            </a>
                        </div>
                        <div>
                            <a mat-button class="linkButton" (click)="accordion.openAll()">
                                <span>הרחב הכל</span>
                                <mat-icon>expand</mat-icon>
                            </a>
                        </div>
                        <div class="wrapAB">
                            <button mat-button class="addButton" type="submit">
                                <span>שמור</span>
                                <mat-icon>save</mat-icon>
                            </button>
                            <mat-spinner *ngIf="saveFormSpinner" class="saveFormSpinner"></mat-spinner>
                        </div>
                    </div>
                    <div class="error" *ngIf="errorActionButtons">{{errorActionButtons}}</div>
                    <div class="saveMessage" *ngIf="msgActionButtons">{{msgActionButtons}}</div>
                </div>


                <div>
                    <!-- <form [formGroup]="newCustomerForm"> -->
                    <mat-accordion class="example-headers-align" multi>

                        <!-- Customer -->
                        <mat-expansion-panel [expanded]="true" #newCustomer>
                            <mat-expansion-panel-header>
                                <mat-panel-title></mat-panel-title>
                                <mat-panel-description>
                                    <div>
                                        <mat-icon *ngIf="!newCustomer.expanded" class="absoluteIcon">arrow_circle_down
                                        </mat-icon>
                                    </div>
                                    <div>
                                        <mat-icon *ngIf="newCustomer.expanded" class="absoluteIcon">arrow_circle_up
                                        </mat-icon>
                                    </div>
                                    <div class="titleDesc">
                                        פרטי לקוח
                                    </div>
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <div class="wrapFormElement">
                                <div class="wrapFlexTwoCol">
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>שם חברה*</mat-label>
                                            <input matInput placeholder="שם חברה*" formControlName="OrganizationName" tabindex="1">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('OrganizationName').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('OrganizationName').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        
                                        <mat-form-field>
                                            <mat-label>מספר טלפון</mat-label>
                                            <input matInput placeholder="מספר טלפון" formControlName="Phone" tabindex="5">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Phone').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Phone').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>שם פרטי</mat-label>
                                            <input matInput placeholder="שם פרטי" formControlName="FName" tabindex="2">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('FName').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('FName').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>מספר טלפון נוסף</mat-label>
                                            <input matInput placeholder="מספר טלפון נוסף" formControlName="Phone1" tabindex="6">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Phone1').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Phone1').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>

                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>שם משפחה</mat-label>
                                            <input matInput placeholder="שם משפחה" formControlName="LName" tabindex="3">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('LName').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('LName').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>תפקיד*</mat-label>
                                            <input matInput placeholder="תפקיד*" formControlName="Permission" tabindex="7">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Permission').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Permission').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>דוא"ל*</mat-label>
                                            <input matInput type="email" placeholder='דוא"ל*' formControlName="Email" tabindex="4">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Email').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Email').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                            <mat-error *ngIf="newCustomerForm.get('Email').hasError('email')">email not valid</mat-error>
                                        </mat-form-field>
                                        <!-- <mat-form-field>
                                            <mat-label>מספר משתמש</mat-label>
                                            <input matInput placeholder="מספר משתמש" formControlName="userNumber">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('userNumber').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('userNumber').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field> -->
                                        <mat-form-field>
                                            <mat-label>ח.פ*</mat-label>
                                            <input matInput placeholder="ח.פ*" formControlName="Tz" tabindex="8">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Tz').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Tz').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>

                        <!-- address -->
                        <mat-expansion-panel #address>
                            <mat-expansion-panel-header>
                                <mat-panel-title></mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon *ngIf="!address.expanded" class="absoluteIcon">arrow_circle_down
                                    </mat-icon>
                                    <mat-icon *ngIf="address.expanded" class="absoluteIcon">arrow_circle_up</mat-icon>
                                    <div class="titleDesc">
                                        כתובת
                                    </div>
                                </mat-panel-description>
                            </mat-expansion-panel-header>

                            <div class="wrapFormElement">
                                <div class="wrapFlexTwoCol">
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>עיר</mat-label>
                                            <input matInput placeholder="עיר" formControlName="CityName" tabindex="9">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('CityName').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('CityName').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>מספר דירה</mat-label>
                                            <input matInput placeholder="מספר דירה" formControlName="ApartmentNo" tabindex="13">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('ApartmentNo').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('ApartmentNo').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>רחוב</mat-label>
                                            <input matInput placeholder="רחוב" formControlName="Streetno" tabindex="10">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Streetno').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Streetno').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        
                                        <mat-form-field>
                                            <mat-label>קומה</mat-label>
                                            <input matInput placeholder="קומה" formControlName="floor" tabindex="14">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('floor').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('floor').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>מספר בית</mat-label>
                                            <input matInput placeholder="מספר בית" formControlName="HouseNumber" tabindex="11">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('HouseNumber').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('HouseNumber').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>מיקוד</mat-label>
                                            <input matInput placeholder="מיקוד" formControlName="ZIP" tabindex="15">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('ZIP').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('ZIP').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>כניסה</mat-label>
                                            <input matInput placeholder="כניסה" formControlName="Entrance" tabindex="12">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Entrance').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Entrance').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                </div>

                            </div>
                        </mat-expansion-panel>

                        <!-- commercial Data -->
                        <mat-expansion-panel #commercialData>
                            <mat-expansion-panel-header>
                                <mat-panel-title> </mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon *ngIf="!commercialData.expanded" class="absoluteIcon">arrow_circle_down
                                    </mat-icon>
                                    <mat-icon *ngIf="commercialData.expanded" class="absoluteIcon">arrow_circle_up
                                    </mat-icon>
                                    <div class="titleDesc">
                                        פרטים מסחריים
                                    </div>
                                </mat-panel-description>
                            </mat-expansion-panel-header>

                            <div class="wrapFormElement">
                                <div class="wrapFlexTwoCol">
                                    <div class="formWrapColumn">
                                        <mat-form-field>
                                            <mat-label>סטטוס</mat-label>
                                            <input matInput placeholder="סטטוס" formControlName="StatusId">
                                            <!-- <button class="clearButton" *ngIf="this.newCustomerForm.get('StatusId').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('StatusId').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button> -->
                                        </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>מזה לקוח</mat-label>
                                            <input matInput placeholder="מזה לקוח" formControlName="MultipassIclientID" tabindex="17">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('MultipassIclientID').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('MultipassIclientID').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                        <!-- <mat-form-field appearance="fill"
                                            class="datePicker datePickerPadding marginTop-1">
                                            <mat-label>תאריך תוקף לקוח</mat-label>
                                            <input matInput [matDatepicker]="picker" formControlName="ValidateDate">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('ValidateDate').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('ValidateDate').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>
                                        </mat-form-field> -->
                                    </div>
                                    <div class="formWrapColumn">
                                        <!-- <mat-form-field>
                                            <mat-label>ח.פ*</mat-label>
                                            <input matInput placeholder="ח.פ*" formControlName="Tz">
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('Tz').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('Tz').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field> -->
                                        <mat-form-field appearance="fill"
                                        class="datePicker datePickerPadding marginTop-1">
                                        <mat-label>תאריך תוקף לקוח</mat-label>
                                        <input matInput [matDatepicker]="picker" formControlName="ValidateDate" tabindex="16">
                                        <button class="clearButton" *ngIf="this.newCustomerForm.get('ValidateDate').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('ValidateDate').setValue('')">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>
                                        <mat-form-field>
                                            <mat-label>אחוז הנחה קבוע</mat-label>
                                            <input matInput placeholder="אחוז הנחה קבוע" formControlName="DealerDiscountPercent" tabindex="18">
                                            <mat-icon matPrefix *ngIf="newCustomerForm.get('DealerDiscountPercent').value == ''">%</mat-icon>
                                            <button class="clearButton" *ngIf="this.newCustomerForm.get('DealerDiscountPercent').value != ''" mat-button  matPrefix mat-icon-button aria-label="Clear" (click)="this.newCustomerForm.get('DealerDiscountPercent').setValue('')">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div class="formWrapColumn space-around">
                                        <div class="buttonAny">
                                            <button mat-button matTooltip="העתק תעודת מורשה" matTooltipPosition="above"
                                                class="linkButton">
                                                <span>לצפיה בתעודה</span>
                                                <mat-icon>description</mat-icon>
                                            </button>
                                        </div>
                                        <div class="buttonAny">
                                            <input [hidden]="true" name="uploadDoc" #uploadDoc type="file">
                                            <button mat-button class="addButton" (click)="uploadDoc.click()">
                                                <span>בחירת קובץ</span>
                                                <mat-icon>attach_file</mat-icon>
                                            </button>
                                            <span *ngIf="uploadDoc.value">{{uploadDoc.value}}</span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-expansion-panel>
                    </mat-accordion>
                    <!-- </form> -->
                </div>

            </div>
        </form>
    </div>

</div>